---
layout: post
title:  "천재교육 빅데이터 7기 강의 정리 -10"
excerpt: "천재교육 10"

tags:
  - [Blog, jekyll, Github, Python, 천재교육, 빅데이터, 데이터EDA, 데이터 EDA, 데이터분석, 데이터 분석]

toc: true
toc_sticky: true

date: 2024-03-07
last_modified_at: 2024-03-07
---

{% include toc.html %}

### 3월 7일 강의 정리
[깃허브 링크1](https://github.com/gustjr7879/chunjae/blob/main/jae15.ipynb)      

프로젝트를 진행하고 면접이니 코딩테스트니 과제전형이니 2주간 좀 바빠서 업로드 하지 못했다.    
다행인 부분은 프로젝트를 진행하고 있어서 좀 더 다양한 내용을 배우진 않았다는 것이다.     
오늘은 데이터 EDA를 좀 더 자세하게 할 수 있는 팁과 약간의 복습 느낌의 수업과 실습이 진행되었다.

#### 프로젝트
프로젝트는 동적/정적 크롤러를 사용해서 채용 사이트를 크롤링하고, 크롤링한 데이터를 바탕으로 데이터 분석 등을 통해서 교육 프로그램을 어떤 방향으로 구성해야하는지에 대한 주제였다.     
AWS 키워드, 원티드, 랠릿, 프로그래머스를 크롤링했고 우리 퇴근하고싶'조' 팀은 원티드 인사이트까지 포함해서 진행했다.     
또 진행하면서 Word2Vec을 사용해서 자주 등장하는 기술들을 바탕으로 기업들의 벡터를 만들고, 기술스택을 어떻게 구성해야 어떤 기업을 갈 수 있는지, 어떤 스킬과 스킬들이 가까운지 판단할 수 있는 추천 모델까지 구현했다.     
네명이 진행한 프로젝트고 분석을 쉽게 하기 위해서 주피터를 자주 사용하는 사람들이라서 나중에 코드를 파이썬 파일로 뭉칠때 상당히 피곤했다.     
함수화를 미리미리 해놓고 변수명을 통일하도록 하자...      

#### Marketing Data EDA
세가지 데이터셋 중 나는 마케팅을 선택했다.    
다른 두개는 포켓몬과 롤 블루팀 게임 내용인데 포켓몬은 상성데이터를 추가해줘야지 잘 될것 같았고, 롤은 안한지 오래되어서 무난하게 마케팅 데이터로 진행했다.     
마케팅 데이터는 
```python
- id
- Year_Birth : 출생
- Education : 교육 수준
- Marital_Status : 결혼 여부
- Kidhome : 자녀 수
- Teenhome : 10대 자녀 수
- Dt_Customer : 회사에 등록한 날짜
- Recency : 최근 구매일자
- MntWines : 최근 2년 동안 와인을 구매한 양
- MntFruits	: 최근 2년 동안 과일을 구매한 양
- MntMeatProducts : 최근 2년 동안 육류을 구매한 양
- NumDealsPurchases : 할인으로 구매한 횟수
- NumWebPurchases : 웹사이트를 통해 구매한 횟수
- NumCatalogPurchases : 카탈로그를 이용한 구매 횟수
- NumStorePurchases : 매장에서 직접 구매한 횟수
- NumWebVisitsMonth : 지난 한달 동안 웹사이트에 방문한 횟수
- AcceptedCmp3 : n번째 캠페인 제안에 수락한 여부
- AcceptedCmp4 : n번째 캠페인 제안에 수락한 여부
- AcceptedCmp5 : n번째 캠페인 제안에 수락한 여부
- AcceptedCmp1 : n번째 캠페인 제안에 수락한 여부
- AcceptedCmp2 : n번째 캠페인 제안에 수락한 여부
- Complain : 최근 2년 동안 고객이 불만을 제기한 경우
```     
과 같이 되어있었고 하나하나 불러서     

```python
import seaborn as sns
data.describe()
sns.countplot(data,y=ydata,hue='Target')
```     
을 적극적으로 활용해서 타겟과 연관이 높아보이는 데이터를 찾았다.     
타겟과 연관이 높은 데이터만 남기고 수치형과 범주형 데이터로 나눴다.     
수치형 데이터에서는 생각보다 타겟과 연관이 적었고 범주형의 경우 연관이 없는 데이터들은 다 drop해주고 나니까      
순서와 연관이 존재한다고 볼 수 있는 데이터들이 주로 남았다.(나이라던지,,, 구매횟수라던지,,,)       
시각적인 분석에서는 유일하게 하나만 순서가 상관이 없는 데이터였는데 (Kidhome) 이것을 원래라면 원핫인코딩을 했을텐데 너무 귀찮고 하나라서 무의미할 것 같아서 그냥 넘겼다 ㅎ      
이렇게 구성된 데이터에서 scaler를 적용해주었다. (Data pipeline 사용)
#### Marketing Data classification
범주형과 수치형 데이터로 나눴으니 바로 간단하게 분류를 해봤다.     
인공지능 모델을 사용해도 꽤 괜찮게 나왔을 것 같은데 (데이터 숫자가 2000개쯤이라 과적합 올지도) 아직 과정에서 배우지 않았고 굳이 사용해야 된다는 생각이 안들어서 Logistic과 Decision Tree, Random forest를 사용해서 예측해봤다.      
맨 위에 코드에 들어가면 예측결과 등이 담겨있는데 수치형은 은근 정확도가 좋게 나왔고 범주형하고 큰 차이가 없었다.     
하지만 시각화를 해봤을 때 수치형은 feature가 적어서 그런지 딱 분리가 되어있다는 생각은 안들었고 범주형은 딱 분리된 느낌이 있었다.     

또한 정확도는 예상대로 Random forest가 가장 좋게 나타난 것을 확인했다. (약 90%)      
train set을 높게 잡긴 했지만 얼추 분석해서 처리한 데이터에서 꽤나 괜찮은 결과라고 생각된다.      
       
이번 기회로 시각화를 좀 많이 해보면서 알게된건데 생각보다 간단하게 좋은 시각화를 얻을 수 있다는 것, 그리고 데이터가 바로 보이니까 숫자로 볼때와 다르다는 것을 알게 되었고 점점 시각화에 있어서 자신감이 생기는 것 같다.      
heatmap(수치형에 적용)을 통해서 상관관계도 분석해보고 (.corr) 스킬들을 꽤 알아가는 시간이였다.       

#### 다음시간
아마 발표를 진행할 것 같다. 간단한 프로젝트라고 생각하면 된다.      
좀 빨리 끝냈으니까 하던 기사 공부를 계속 할 예정이다.