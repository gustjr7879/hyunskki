```markdown
---
layout: post
title:  "모두의 linux -1"
excerpt: "linux 공부 1편"

tags:
  - [Blog, jekyll, Github, Python]

toc: true
toc_sticky: true
 
date: 2023-03-09
last_modified_at: 2023-03-09
---
{% include toc.html %}

### 리눅스의 장점
1. 오픈소스로 누구나 쉽게 사용 가능하다
2. 높은 품질의 다양한 소프트웨어를 리눅스에서 돌릴 수 있다
3. 신뢰성이 높다
4. 스크립트를 통해 많은 부분을 자동화할 수 있다.

리눅스는 또한 다음과 같은 이유로 프로그래밍 학습 환경으로도 많이 사용된다.
1. 개발환경구축이 용이하고 비용이 발생하지 않는다.
2. 오픈소스여서 운영체제의 내부 동작을 확인할 수 있다.

### 리눅스의 단점
1. 상용 애플리케이션이 많지않다.
2. 한글 대응이 부족하다.

### 리눅스 환경 준비
리눅스란, 리눅스 커널만을 의미한다.커널이란 운영체제의 중심에서 하드웨어를 제어하는 역할을 담당하는 소프트웨어임
사용자가 사용하는 도구나 애플리케이션은 포함되지않는다.
이러한 리눅스 커널과 함께 기본적인 명령어와 애플리케이션을 묶어서 사용자가 바로 사용할 수 있게 한것이 리눅스 배포판
레드햇 계열(Cent os) / 데비안 계열(우분투)로 보통 나뉘며 우분투를 조금 더 자주 사용함

### 로그인, 로그아웃
리눅스를 사용하려면 먼저 로그인을 해야한다. 리눅스는 여러 사용자가 동시에 사용하는 것을 전제로 하는 시스템이여서 로그인으로 어떤 사용자인지 리눅스에게 전달해줘야한다.
### CLI(Command Line interface)를 사용하는 이유
1. 높은 작업 효율
2. 프로그램 실행에 유리함
3. 자동화에 유리함

#####복사 커멘드
{% highlight css %}
cp a.txt b.txt
{% endhighlight %}
를 입력하면 a.txt파일을 b.txt파일로 복사한다.
##### 파일 선택 커멘드
{% highlight css %}
ls a*
{% endhighlight %}
와 같이 a*를 입력하면 a로 시작하는 파일을 전부 선택할 수 있고, ls는 뒤에 해당하는 파일들을 출력할 수 있다.

##### 프로그램간 연동
리눅스에서는 작은 프로그램들을 연결하여 좀 더 크고 복잡한 동작을 실행할 수 있다.
대표적으로 프로그램의 입출력을 서로 주고받을 수 있는 파이프(|)라는 기능이 존재한다.
{% highlight css %}
grep "abc" sample.txt | sort
{% endhighlight %}
앞에 예시는 grep 과 sort라는 두 명령어를 연결하여 sample.txt 파일에서 abc라는 문자열을 검색한뒤
그 결과를 정렬하여 출력하라고 지시하고 있다.

##### 처리 자동화
CLI에서는 실행할 명령어들을 파일에 기록해 놓고 일괄로 실행하는 것이 가능하다.
프로그램 간 연동이 쉬우므로 여러 명령어를 조합해 자기만의 명령어를 만들어서 자동화할 수 있는 점이 장점이다.

### 로그아웃
CLI를 통하여 로그인했다면
{% highlight css %}
exit
{% endhighlight %}
를 사용하여 로그아웃을 할 수 있다.

### shutdown(셧다운)
컴퓨터의 전원을 끄려고 OS를 완전히 정지시키는 것을 셧다운이라고 한다.
리눅스를 셧다운 하려면 shutdown 명령어를 사용해야한다.
이 명령어를 사용하기 위해서는 슈퍼 사용자(root user)로 전환해야하는데, 전환 방법은
{% highlight css %}
sudo su -
#암호입력
{% endhighlight %}
으로 전환하게 된다면 프롬프트의 기호가 $에서 #으로 바뀐다.
이때
{% highlight css %}
shutdown -h now
{% endhighlight %}
를 통하여 셧타운 할 수 있으며 -h 옵션은 전원을 종료한다는 것이다.

{% highlight css %}
shutdown -r now
{% endhighlight %}
를 통하여는 -r 옵션을 통하여 재부팅을 할 수 있다.

### 셸과 명령어
리눅스에 로그인해서 여러가지 명령어를 수행할 수 있다.
{% highlight css %}
hyunskki@hyunskki-desktop:~$ date
{% endhighlight %}
를 통하면 현재 날짜와 시간이 출력된다.
echo 명령어는 인자로 지정한 문자열을 출력해준다.
{% highlight css %}
hyunskki@hyunskki-desktop:~$ echo Hello
{% endhighlight %}
를 하면 Hello가 출력되는 것을 볼 수 있다. 명령어의 종류는 매우 다양하기 때문에, 필수적인 명령어를 익히고 필요할때마다 익히면 된다.
필요한 작업에 딱 맞는 명령어가 없다면 기존 명령어들을 조합하여 사용하면 된다.

#### 에러
존재하지 않는 명령어를 입력하면
명령을 찾을 수 없습니다. 에러가 출력된다.(command not found)
에러 메세지는 에러 발생 원인에 대한 실마리가 존재하기 때문에 잘 보고 잘 대응하는 것이 중요하다.

### 셸의 역할과 리눅스 커널
이번 파트의 목적은 셸이 무엇인지 알아보는 것이다. 이를 위해 리눅스 내부에서 명령어가 실행되는 과정을 살펴볼 예정이다.
앞에서와 같이 명령어를 실행하면 리눅스 내부에서는 다음과 같은 일이 발생한다.
1. 키보드로 입력한 date 문자열을 받아들인다.
2. date 명령어를 찾는다.
3. 발견한 명령어를 실행한다.
4. 실행한 결과로 나온 문자열을 화면에 표시한다.

이 중 3번에 해당하는 과정은 리눅스의 본체인 커널이 수행한다.
커널은 운영체제의 중심에서 cpu나 메모리 같은 하드웨어를 관리하면서 명렁어를 수행하고 프로세스를 관리한다.

리눅스에서는 사용자가 커널을 직접 조작할 수 없게 되어있기 때문에 사용자와 커널 사이에서 명령어를 받고 실행결과를 출력해주는 소프트웨어가 필요하다.
이 역할을 해주는 것이 셸이다.
즉, 셸은 커널의 인터페이스에 해당한다.

### 왜 셸과 커널은 나뉘어져 있을까?
셸과 커널이 분리되면 다음과 같은 이점이 존재한다.
1. 커널을 바꾸지 않고 셸만 바꿀 수 있다.
2. 리눅스 외 OS를 사용할 때도 셸만 이식하면 똑같이 사용가능하다.
3. 셸을 사용할 때 에러가 발생하거나 지나치게 높은 부하가 걸려도 본체인 리눅스 커널에는 영향이 적게간다.

### 프롬프트
{% highlight css %}
hyunskki@hyunskki-desktop:~$
{% endhighlight %}
위에 표기된 부분을 셸의 프롬프트라고 한다. 여기에서 @왼쪽을 사용자 이름, @오른쪽을 호스트 이름이라고 한다.

### 로그인 셸
리눅스에 로그인하면 셸이 사용자를 반기면서 입력을 대기한다.
로그인 후 처음으로 시작되는 셸을 로그인 셸이라고 한다.
자신이 사용하고 있는 로그인 셸을 확인하는 방법은 다음과 같다.
{% highlight css %}
hyunskki@hyunskki-desktop:~$ echo $SHELL
{% endhighlight %}
/bin/bash 가 출력되는데, 별도로 지정하지 않는다면 이 폴더가 로그인 셸의 위차가 된다.

### 대화형 조작과 셸 스크립트
지금까지 명령어를 입력하고 그 결과를 보면서 셸을 사용했다.
이처럼 명령어를 직접 입력하고 결과를 확인하는 조작방식을 대화형 방식이라고 한다.
이해반해서 실행하고 싶은 명령어들을 미리 파일에 기록하고 그 파일을 셸에 넘겨주는 방식으로도 할 수 있는데,
이런 명령어 흐름을 기술한 파일을 셸 스크립트라고 한다.
작은 프로그래밍(명령어)을 조합해 복잡한 처리를 수행한다의 리눅스 철학이 담긴 도구이며
셸 스크립트를 잘 다루는 것이 책의 목표이기도 한다.
셸의 대한 기본지식을 쌓고 다루도록 하자

### 셸 종류
앞에서 로그인 셸이 배시(bash)라는 것을 확인했다. 리눅스에서는 배시 외에도 다양한 셸을 사용할 수 있다.
#### sh 
본셸이라고도 부르며 여러가지 운영체제에서 사용할 수 있다.
현재도 셸 스크립트를 작성할 때는 sh를 사용하는 것이 일반적이다.
하지만 오래된 셸이라 기능이 적고 대화형에서 사용하기에는 불편하다.

#### csh
C셸이라고 부르며 sh보다 대화형 조작에 편리한 기능을 가지고 있다. 요즘엔 tcsh를 많이들 사용해서 자주 사용하지 않는 셸

#### bash
sh 를 바탕으로 기능이 추가된 셸이다. sh와 호환성이 있어서 sh를 대체할 수 있다.
또한 대화형 조작에 필요한 기능을 가지고 있어서 기본 로그인 셸로 많이 사용한다.
셸 스크립트를 작성하는데도 적합함

####tsch
csh에 이어서 개발된 셸이고, 대화형에 적합하지만 셸 스크립트에는 적합하지 않는다.
C셸 계열에서는 사용자 프롬프트가 $가 아닌 %이다.

#### zsh
비교적 최근에 개발된 셸로 기능이 매우 다양해서 많은 활용도가 있다.

### 어떤 셸을 선택해야될까?
이 책에서는 bash 셸을 추천한다.
그 이유로는
1. 기본 로그인 셸로 활용도가 높다.
2. 대화형 스크립트 둘다 적합하다.
3. sh와 호환되어서 편리하다.
4. mac os에서도 사용가능하다.
따라서 이 책은 bash 셸을 기본적으로 다룬다.

### 일시적으로 셸을 바꾸는 방법
셸도 하나의 명령어에 불과하므로 사용하고 싶은 셸 이름을 입력하고 실행만 하면된다.
리눅스에 기본으로 포함된 sh셸을 사용하는 방법은
{% highlight css %}
hyunskki@hyunskki-desktop:~$ sh
{% endhighlight %}
이다.
### 터미널이란
터미널은 컴퓨터의 입출력만을 담당하는 전용 하드웨어이다.
터미널과 셸을 혼동하면 안되는데, 만약에 ssh를 이용하여 서버에 접속했다고 치자,
그럼 접속을 한 컴퓨터에서 실행되는 terminal은 해당 컴퓨터에서 처리가 되고
terminal에서 입력되고 출력되는 결과는 서버 리눅스에서 처리가 되는 형식이다.

### 1-2장 종료

이렇게 1-2장을 확인해봤다. 일부분은 기본 설치 파트였고, 어떤 것들이 존재하고 어떤 용어들이 존재하는지 확인할 수 있었다.
리눅스를 공부시작한 이유는 연구실 서버 환경이 리눅스 기반이기도 하고 좀 알아야지 나중에 더 깊게 공부하거나 편리할 것 같아서 시작하게 되었는데 나름 재미있을 것 같다.
앞으로 분량에 따라서 다르겠지만 대체적으로 2장정도씩 올릴 예정이다.
```